<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/App.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/App.tsx" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/salud_app/ui/screen/diary/DiaryScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/salud_app/ui/screen/diary/DiaryScreen.kt" />
              <option name="originalContent" value="package com.example.salud_app.ui.screen.diary&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.expandVertically&#10;import androidx.compose.animation.shrinkVertically&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.CalendarToday&#10;import androidx.compose.material3.*&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.compose.rememberNavController&#10;import com.example.salud_app.components.AppScaffold&#10;import com.example.salud_app.components.ScreenLevel&#10;import com.example.salud_app.model.TaskType&#10;import com.example.salud_app.model.Tasks&#10;import com.example.salud_app.ui.theme.Salud_AppTheme&#10;import java.time.Instant&#10;import java.time.LocalDate&#10;import java.time.ZoneId&#10;import com.example.salud_app.R&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DiaryScreen(&#10;    tasks: List&lt;Tasks&gt; = sampleTasks&#10;) {&#10;    var currentDate by remember { mutableStateOf(LocalDate.now()) }&#10;    var expandedTaskId by remember { mutableStateOf&lt;Long?&gt;(null) }&#10;&#10;    // State mở DatePicker&#10;    var showDatePicker by remember { mutableStateOf(false) }&#10;    val datePickerState = rememberDatePickerState()&#10;&#10;    Salud_AppTheme {&#10;        val navController = rememberNavController()&#10;&#10;        AppScaffold(&#10;            navController = navController,&#10;            title = &quot;Nhật ký&quot;,&#10;            screenLevel = ScreenLevel.MAIN&#10;        ) { paddingValues -&gt;&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(paddingValues)&#10;                    .background(MaterialTheme.colorScheme.background)&#10;            ) {&#10;&#10;                DateSelector(&#10;                    currentDate = currentDate,&#10;                    onDateChange = { newDate -&gt; currentDate = newDate },&#10;                    onOpenDatePicker = { showDatePicker = true }&#10;                )&#10;&#10;                Spacer(Modifier.height(12.dp))&#10;&#10;                TaskCardList(&#10;                    tasks = tasks,&#10;                    expandedTaskId = expandedTaskId,&#10;                    onCardClick = { task -&gt;&#10;                        expandedTaskId =&#10;                            if (expandedTaskId == task.id) null else task.id&#10;                    }&#10;                )&#10;            }&#10;&#10;            if (showDatePicker) {&#10;                DatePickerDialog(&#10;                    onDismissRequest = { showDatePicker = false },&#10;                    confirmButton = {&#10;                        TextButton(&#10;                            onClick = {&#10;                                val millis = datePickerState.selectedDateMillis&#10;                                if (millis != null) {&#10;                                    currentDate = Instant.ofEpochMilli(millis)&#10;                                        .atZone(ZoneId.systemDefault())&#10;                                        .toLocalDate()&#10;                                }&#10;                                showDatePicker = false&#10;                            }&#10;                        ) {&#10;                            Text(&quot;Done&quot;)&#10;                        }&#10;                    }&#10;                ) {&#10;                    DatePicker(state = datePickerState)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun DateSelector(&#10;    currentDate: LocalDate,&#10;    onDateChange: (LocalDate) -&gt; Unit,&#10;    onOpenDatePicker: () -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(horizontal = 10.dp, vertical = 10.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .background(Color(0xFF6AB9F5), RoundedCornerShape(12.dp))&#10;                .padding(horizontal = 20.dp, vertical = 12.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                &quot;Nhật ký ngày  &quot;,&#10;                fontWeight = FontWeight.Bold,&#10;                fontSize = 16.sp,&#10;            )&#10;&#10;            Text(&#10;                text = currentDate.toString(),&#10;                style = MaterialTheme.typography.titleMedium,&#10;                fontWeight = FontWeight.Bold,&#10;            )&#10;        }&#10;        Row(&#10;            modifier = Modifier&#10;                .padding(horizontal = 20.dp, vertical = 12.dp),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.spacedBy(5.dp)&#10;        ) {&#10;&#10;            Image(&#10;                painter = painterResource(R.drawable.arrow_back_ios_24px),&#10;                contentDescription = &quot;back ngày&quot;,&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onDateChange(currentDate.plusDays(-1)) }&#10;            )&#10;&#10;            Icon(&#10;                imageVector = Icons.Default.CalendarToday,&#10;                contentDescription = &quot;Chọn ngày&quot;,&#10;                tint = Color(MaterialTheme.colorScheme.onBackground.value),&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onOpenDatePicker() }&#10;            )&#10;&#10;            Image(&#10;                painter = painterResource(R.drawable.arrow_forward_ios_24px),&#10;                contentDescription = &quot;Next ngày&quot;,&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onDateChange(currentDate.plusDays(1)) }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TaskCardList(&#10;    tasks: List&lt;Tasks&gt;,&#10;    expandedTaskId: Long?,&#10;    onCardClick: (Tasks) -&gt; Unit&#10;) {&#10;    Column(&#10;        Modifier.fillMaxWidth().padding(horizontal = 16.dp)&#10;    ) {&#10;        tasks.forEach { task -&gt;&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 6.dp)&#10;                    .background(Color.White, RoundedCornerShape(12.dp))&#10;                    .clickable { onCardClick(task) }&#10;                    .padding(16.dp)&#10;            ) {&#10;                Column {&#10;                    Text(&#10;                        text = when (task.type) {&#10;                            TaskType.Eat -&gt; &quot;️ Ăn uống&quot;&#10;                            TaskType.Sleep -&gt; &quot; Ngủ nghỉ&quot;&#10;                            TaskType.Exercise -&gt; &quot;‍♂️ Tập luyện&quot;&#10;                        },&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontSize = MaterialTheme.typography.titleMedium.fontSize&#10;                    )&#10;&#10;                    Spacer(Modifier.height(4.dp))&#10;                    Text(task.description, color = Color.DarkGray)&#10;                }&#10;            }&#10;&#10;            AnimatedVisibility(&#10;                visible = expandedTaskId == task.id,&#10;                enter = expandVertically(),&#10;                exit = shrinkVertically()&#10;            ) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 6.dp)&#10;                        .background(Color(0xFFFFFFFF), RoundedCornerShape(12.dp))&#10;                        .padding(16.dp)&#10;                ) {&#10;                    Column {&#10;                        Text(&#10;                            text = &quot;Chi tiết&quot;,&#10;                            fontWeight = FontWeight.Bold,&#10;                            fontSize = MaterialTheme.typography.titleMedium.fontSize&#10;                        )&#10;                        Spacer(Modifier.height(8.dp))&#10;&#10;                        Text(&quot;Loại: ${task.type}&quot;)&#10;                        Text(&quot;Ngày: ${task.date}&quot;)&#10;                        Text(&quot;Mô tả: ${task.description}&quot;)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;// ------------------------&#10;// DỮ LIỆU MẪU&#10;// ------------------------&#10;val sampleTasks = listOf(&#10;    Tasks(&#10;        id = 1,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Eat,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Ăn sáng: 2 trứng, 1 ly sữa&quot;&#10;    ),&#10;    Tasks(&#10;        id = 2,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Sleep,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Ngủ trưa 30 phút&quot;&#10;    ),&#10;    Tasks(&#10;        id = 3,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Exercise,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Chạy bộ 20 phút&quot;&#10;    )&#10;)&#10;&#10;@Preview&#10;@Composable&#10;fun PreviewDiary() {&#10;    DiaryScreen()&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.salud_app.ui.screen.diary&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.expandVertically&#10;import androidx.compose.animation.shrinkVertically&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.CalendarToday&#10;import androidx.compose.material3.*&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.compose.rememberNavController&#10;import com.example.salud_app.components.AppScaffold&#10;import com.example.salud_app.components.ScreenLevel&#10;import com.example.salud_app.model.TaskType&#10;import com.example.salud_app.model.Tasks&#10;import com.example.salud_app.ui.theme.Salud_AppTheme&#10;import java.time.Instant&#10;import java.time.LocalDate&#10;import java.time.ZoneId&#10;import com.example.salud_app.R&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DiaryScreen(&#10;    navController: androidx.navigation.NavController = rememberNavController(),&#10;    tasks: List&lt;Tasks&gt; = sampleTasks&#10;) {&#10;    var currentDate by remember { mutableStateOf(LocalDate.now()) }&#10;    var expandedTaskId by remember { mutableStateOf&lt;Long?&gt;(null) }&#10;&#10;    // State mở DatePicker&#10;    var showDatePicker by remember { mutableStateOf(false) }&#10;    val datePickerState = rememberDatePickerState()&#10;&#10;    Salud_AppTheme {&#10;        AppScaffold(&#10;            navController = navController,&#10;            title = &quot;Nhật ký&quot;,&#10;            screenLevel = ScreenLevel.MAIN&#10;        ) { paddingValues -&gt;&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(paddingValues)&#10;                    .background(MaterialTheme.colorScheme.background)&#10;            ) {&#10;&#10;                DateSelector(&#10;                    currentDate = currentDate,&#10;                    onDateChange = { newDate -&gt; currentDate = newDate },&#10;                    onOpenDatePicker = { showDatePicker = true }&#10;                )&#10;&#10;                Spacer(Modifier.height(12.dp))&#10;&#10;                TaskCardList(&#10;                    tasks = tasks,&#10;                    expandedTaskId = expandedTaskId,&#10;                    onCardClick = { task -&gt;&#10;                        expandedTaskId =&#10;                            if (expandedTaskId == task.id) null else task.id&#10;                    }&#10;                )&#10;            }&#10;&#10;            if (showDatePicker) {&#10;                DatePickerDialog(&#10;                    onDismissRequest = { showDatePicker = false },&#10;                    confirmButton = {&#10;                        TextButton(&#10;                            onClick = {&#10;                                val millis = datePickerState.selectedDateMillis&#10;                                if (millis != null) {&#10;                                    currentDate = Instant.ofEpochMilli(millis)&#10;                                        .atZone(ZoneId.systemDefault())&#10;                                        .toLocalDate()&#10;                                }&#10;                                showDatePicker = false&#10;                            }&#10;                        ) {&#10;                            Text(&quot;Done&quot;)&#10;                        }&#10;                    }&#10;                ) {&#10;                    DatePicker(state = datePickerState)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun DateSelector(&#10;    currentDate: LocalDate,&#10;    onDateChange: (LocalDate) -&gt; Unit,&#10;    onOpenDatePicker: () -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(horizontal = 10.dp, vertical = 10.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .background(Color(0xFF6AB9F5), RoundedCornerShape(12.dp))&#10;                .padding(horizontal = 20.dp, vertical = 12.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Text(&#10;                &quot;Nhật ký ngày  &quot;,&#10;                fontWeight = FontWeight.Bold,&#10;                fontSize = 16.sp,&#10;            )&#10;&#10;            Text(&#10;                text = currentDate.toString(),&#10;                style = MaterialTheme.typography.titleMedium,&#10;                fontWeight = FontWeight.Bold,&#10;            )&#10;        }&#10;        Row(&#10;            modifier = Modifier&#10;                .padding(horizontal = 20.dp, vertical = 12.dp),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.spacedBy(5.dp)&#10;        ) {&#10;&#10;            Image(&#10;                painter = painterResource(R.drawable.arrow_back_ios_24px),&#10;                contentDescription = &quot;back ngày&quot;,&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onDateChange(currentDate.plusDays(-1)) }&#10;            )&#10;&#10;            Icon(&#10;                imageVector = Icons.Default.CalendarToday,&#10;                contentDescription = &quot;Chọn ngày&quot;,&#10;                tint = Color(MaterialTheme.colorScheme.onBackground.value),&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onOpenDatePicker() }&#10;            )&#10;&#10;            Image(&#10;                painter = painterResource(R.drawable.arrow_forward_ios_24px),&#10;                contentDescription = &quot;Next ngày&quot;,&#10;                modifier = Modifier&#10;                    .size(20.dp)&#10;                    .clickable { onDateChange(currentDate.plusDays(1)) }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TaskCardList(&#10;    tasks: List&lt;Tasks&gt;,&#10;    expandedTaskId: Long?,&#10;    onCardClick: (Tasks) -&gt; Unit&#10;) {&#10;    Column(&#10;        Modifier.fillMaxWidth().padding(horizontal = 16.dp)&#10;    ) {&#10;        tasks.forEach { task -&gt;&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 6.dp)&#10;                    .background(Color.White, RoundedCornerShape(12.dp))&#10;                    .clickable { onCardClick(task) }&#10;                    .padding(16.dp)&#10;            ) {&#10;                Column {&#10;                    Text(&#10;                        text = when (task.type) {&#10;                            TaskType.Eat -&gt; &quot;️ Ăn uống&quot;&#10;                            TaskType.Sleep -&gt; &quot; Ngủ nghỉ&quot;&#10;                            TaskType.Exercise -&gt; &quot;‍♂️ Tập luyện&quot;&#10;                        },&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontSize = MaterialTheme.typography.titleMedium.fontSize&#10;                    )&#10;&#10;                    Spacer(Modifier.height(4.dp))&#10;                    Text(task.description, color = Color.DarkGray)&#10;                }&#10;            }&#10;&#10;            AnimatedVisibility(&#10;                visible = expandedTaskId == task.id,&#10;                enter = expandVertically(),&#10;                exit = shrinkVertically()&#10;            ) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 6.dp)&#10;                        .background(Color(0xFFFFFFFF), RoundedCornerShape(12.dp))&#10;                        .padding(16.dp)&#10;                ) {&#10;                    Column {&#10;                        Text(&#10;                            text = &quot;Chi tiết&quot;,&#10;                            fontWeight = FontWeight.Bold,&#10;                            fontSize = MaterialTheme.typography.titleMedium.fontSize&#10;                        )&#10;                        Spacer(Modifier.height(8.dp))&#10;&#10;                        Text(&quot;Loại: ${task.type}&quot;)&#10;                        Text(&quot;Ngày: ${task.date}&quot;)&#10;                        Text(&quot;Mô tả: ${task.description}&quot;)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;// ------------------------&#10;// DỮ LIỆU MẪU&#10;// ------------------------&#10;val sampleTasks = listOf(&#10;    Tasks(&#10;        id = 1,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Eat,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Ăn sáng: 2 trứng, 1 ly sữa&quot;&#10;    ),&#10;    Tasks(&#10;        id = 2,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Sleep,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Ngủ trưa 30 phút&quot;&#10;    ),&#10;    Tasks(&#10;        id = 3,&#10;        userId = &quot;user123&quot;,&#10;        type = TaskType.Exercise,&#10;        date = &quot;2025-11-14&quot;,&#10;        description = &quot;Chạy bộ 20 phút&quot;&#10;    )&#10;)&#10;&#10;@Preview&#10;@Composable&#10;fun PreviewDiary() {&#10;    DiaryScreen()&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>